function createTXPowerSlider(c){var b=new Slider(document.getElementById("slider-2"),document.getElementById("slider-input-2"));var a=document.getElementById("txpower");b.setMinimum(-40);b.setMaximum(40);b.setMaxMarker(40);b.onchange=function(){$("#txpower").val(this.getValue())};a.slider=b;a.onchange=function(){var d=parseInt(this.value);if(isNaN(d)){d=0}this.slider.setValue(d)};a.onchange()}function setESSID(b,c,a){var d=$("#essid");if(b.essid.length>0){d.val(b.essid)}$("#security").val(sec);$("#security").change()}function compareNum(d,c){return d-c}function init_speeds(g,h){var a=document.getElementById(h);if(!a){return g}var b=$("#"+h);var d=[];for(var e=0;e<speeds.length;++e){d.push(speeds[e])}d.sort().reverse();var f=[];$.each(d,function(i,j){f.push('<option value="'+j+'">'+l10n_get("speed-"+j)+"</option>")});var c=b.val();b.empty().append(f.join(""));b.val(g);if(b.val()!=g){b.val(0)}if((a.selectedIndex==null)||(a.selectedIndex<0)){a.selectedIndex=0}$(document).trigger("rate_list_updated");toggleRateAuto();return a.options.length?a.options[a.selectedIndex].value:g}function updateAFKeyError(){var c=document.getElementById("af_key_type");var a=document.getElementById("af_key");var b="IPv6 Notation";if(c&&c.value=="2"){b="ASCII string, 8-64 chars"}a.realname="msg_af_key_format|AES-128 key ("+b+")";if(c.value=="1"){a.value="0000:0000:0000:0000:0000:0000:0000:0000"}else{a.value=""}}var AFKeyHex_regex=/^([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}:([0-9]|[a-f]|[A-F]){0,4}$/;function validateAFKey(h,a,d){var b=document.getElementById(h);var g=document.getElementById("af_key_type");var f;var e;var c;if(g&&g.value=="2"){c=null;e=8;f=64}else{c=AFKeyHex_regex;e=7;f=39}if(d.length<e||d.length>f){return false}if(c!=null&&c.exec(d)==null){return false}}function shaperStatusClicked(){var a=$("#shaper_status").is(":checked");$(".i_shaper").disable(!a);$(".shaper").toggle(a)}function selectToArray(b){var a=[];var c=0;b.find("option").each(function(){a[c]=[];a[c].value=$(this).val();a[c++].display=$(this).text()});return a}function arrayToSelect(a,b,e){var c="";for(var d=0;d<b.length;++d){if(e&&!e(d)){continue}c+='<option value="'+b[d].value+'">'+b[d].display+"</option>"}a.html(c)}function init_frequencies(d,j,g,n){var h=$("#tx_chan_freq");var l=$("#rx_chan_freq");var c=$("#af_duplex");var e=[];for(var f=0;f<frequencies.length;++f){e.push(frequencies[f])}e.sort();var a=[];$.each(e,function(i,o){a.push('<option value="'+o+'">'+o.replace("GHz"," GHz")+"</option>")});var m=h.val();var b=l.val();h.empty().append(a.join(""));l.empty().append(a.join(""));if(!n){h.val(d);if(h.val()!=d){h.val(0)}l.val(j);if(l.val()!=j){l.val(0)}}else{h.val(m);if(h.val()!=m){var k=0;for(var f=e.length-1;f>=0&&k==0;f--){if(e[f]<=m){k=e[f]}}h.val(k)}l.val(b);if(l.val()!=b){var k=0;for(var f=e.length-1;f>=0&&k==0;f--){if(e[f]<=b){k=e[f]}}l.val(k)}}c.val(g);$(document).trigger("frequencies_updated");return 0}function setMaxrate(d,b){var a=document.getElementById(d);var c=document.getElementById("maxrate");if(!a||!a.length){return false}if(c){c.innerHTML=a.options[a.length-1].text}}function toggleObeyRegulatory(){reinit_form(3);var a=document.getElementById("txpower");if(!a){return false}a.minvalue=txpower_min;a.maxvalue=txpower_max;if((txpower_reg_max!=0)&&(txpower_reg_max<txpower_max)){a.maxvalue=txpower_reg_max}a.setAttribute("minvalue",a.minvalue);a.setAttribute("maxvalue",a.maxvalue);if(a.minvalue>a.maxvalue){a.minvalue=a.maxvalue}a.slider.setMinimum(a.minvalue);a.slider.setMaximum(a.maxvalue);a.slider.setMaxMarker(a.maxvalue);if(a.value>a.maxvalue){a.value=a.maxvalue;a.onchange()}else{if(a.value<a.minvalue){a.value=a.minvalue;a.onchange()}}$(document).trigger("obey_toggled")}function onRXGain(a){rxgain=a.options[a.selectedIndex].value;reinit_form(3)}function onRXFrequency(a){rx_chan_freq=a.options[a.selectedIndex].value;reinit_form(4)}function onTXFrequency(a){tx_chan_freq=a.options[a.selectedIndex].value;reinit_form(4)}function onDuplex(a){af_duplex=a.options[a.selectedIndex].value;reinit_form(3)}function onFrequency(a){chan_freq=a.options[a.selectedIndex].value;reinit_form(4)}function onSecurity(a,b){chooseSecurity(a,b)}function submitSave(a){if($("#cc",a).is(":disabled")){if(!validateStandard(a,"error")){return false}}return true}function submitNoSave(){$("#cc").enable();this_form.submit()}function toggleRateAuto(){var a=$("#rate_auto").is(":checked");var b=jsTranslate(a?"Maximum Modulation Rate:":"Modulation Rate:");$("#rate_label").html(b);$("#rate").realname=b};